/****************************************************************************

Written by Charlie Dawson to control 7-segment display (8 segment with decimal)

**TR2019 Version**
 
*************************************************************************/

/****ASSUMING COMMON ANODE DISPLAY****/

int ledA = 3;
int ledB = 4;
int ledC = 5;
int ledD = 6;
int ledE = 7;
int ledF = 8;
int ledG = 9;

int ledAState;
int ledBState;
int ledCState;
int ledDState;
int ledEState;
int ledFState;
int ledGState;

void setupDisplay() {
  pinMode(ledA, OUTPUT);
  pinMode(ledB, OUTPUT);
  pinMode(ledC, OUTPUT);
  pinMode(ledD, OUTPUT);
  pinMode(ledE, OUTPUT);
  pinMode(ledF, OUTPUT);
  pinMode(ledG, OUTPUT);  
}

void setDisplay(int gear) {
  switch(gear){
    case -1:
      ledAState = HIGH;
      ledBState = HIGH;
      ledCState = HIGH;
      ledDState = HIGH;
      ledFState = HIGH;
      ledEState = HIGH;
      ledGState = HIGH;
      break;
    case 0:
      ledAState = LOW;
      ledBState = LOW;
      ledCState = LOW;
      ledDState = LOW;
      ledFState = LOW;
      ledEState = LOW;
      ledGState = HIGH;
      break;
    case 1:
      ledAState = HIGH;
      ledBState = LOW;
      ledCState = LOW;
      ledDState = HIGH;
      ledEState = HIGH;
      ledFState = HIGH;
      ledGState = HIGH;
      break;
    case 2:
      ledAState = LOW;
      ledBState = LOW;
      ledCState = HIGH;
      ledDState = LOW;
      ledEState = LOW;
      ledFState = HIGH;
      ledGState = LOW;
      break;
    case 3:
      ledAState = LOW;
      ledBState = LOW;
      ledCState = LOW;
      ledDState = LOW;
      ledFState = HIGH;
      ledGState = LOW;
      break;
    case 4:
      ledAState = HIGH;
      ledBState = LOW;
      ledCState = LOW;
      ledDState = HIGH;
      ledEState = HIGH;
      ledFState = LOW;
      ledGState = LOW;
      break;
    case 5:
      ledAState = LOW;
      ledBState = HIGH;
      ledCState = LOW;
      ledDState = LOW;
      ledEState = HIGH;
      ledFState = LOW;
      ledGState = LOW;
      break;
    case 6:
      ledAState = LOW;
      ledBState = HIGH;
      ledCState = LOW;
      ledDState = LOW;
      ledEState = LOW;
      ledFState = LOW;
      ledGState = LOW;
      break;
    case 7:
      ledAState = LOW;
      ledBState = LOW;
      ledCState = LOW;
      ledDState = HIGH;
      ledEState = HIGH;
      ledFState = HIGH;
      ledGState = HIGH;
      break;
    case 8:
      ledAState = LOW;
      ledBState = LOW;
      ledCState = LOW;
      ledDState = LOW;
      ledEState = LOW;
      ledFState = LOW;
      ledGState = LOW;
      break;
    case 9:
      ledAState = LOW;
      ledBState = LOW;
      ledCState = LOW;
      ledDState = LOW;
      ledEState = HIGH;
      ledFState = LOW;
      ledGState = LOW;
      break;
  
  }
  
  digitalWrite(ledA, ledAState);
  digitalWrite(ledB, ledBState);
  digitalWrite(ledC, ledCState);
  digitalWrite(ledD, ledDState);
  digitalWrite(ledE, ledEState);
  digitalWrite(ledF, ledFState);
  digitalWrite(ledG, ledGState);
}
